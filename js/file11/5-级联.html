<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>级联的实现</title>
	<style>	
		select{
			border:1px solid red;
			background-color: #ccc;
			width: 200px;
		}
	</style>
	<script>
		var grades=[{
			id:1001,
			name:'一年级'
		},
		{
			id:1002,
			name:'二年级'
		},{
			id:1003,
			name:'三年级'
		}];
		var classes = [
		{
			id:101,
			name:'一年级一班',
			gradeid:1001
		},
		{
			id:102,
			name:'一年级二班',
			gradeid:1001
		},{
			id:103,
			name:'一年级三班',
			gradeid:1001
		},
		{
			id:104,
			name:'二年级一班',
			gradeid:1002
		},
		{
			id:105,
			name:'二年级二班',
			gradeid:1002
		},{
			id:106,
			name:'二年级三班',
			gradeid:1002
		},{
			id:107,
			name:'三年级一班',
			gradeid:1003
		},
		{
			id:108,
			name:'三年级二班',
			gradeid:1003
		},{
			id:109,
			name:'三年级三班',
			gradeid:1003
		},];
		window.onload = function(){
			var gradeSelect = document.getElementById('grade');
			var classSelect = document.getElementById('class');
			grades.forEach(function(item){
				var newOption = document.createElement('option');
				newOption.innerText =item.name;
				newOption.value = item.id;
				gradeSelect.appendChild(newOption);
			});
			//gradeSelect 

			gradeSelect.onchange = function(){
				console.log(this);
				var that = this;
				console.log(this.value);
				if(this.value){
					var classresult = classes.filter(function(item){
						//console.log(this,'111');
						//console.log(item.gradeid,that.value);
						return item.gradeid==that.value;

					},{});
					console.log(classresult);
					//追加节点到ClassSelect
					var str = '<option value="">请选择</option>';
					classresult.forEach(function(item){
						str += '<option value="'+item.id+'">'+item.name+'</option>';
						//str+='<option value="">请选择</option>';
					});
					classSelect.innerHTML=str;
					classSelect.disabled=false;
				}else{
					//禁用班级select
					classSelect.innerHTML='<option value="">请选择</option>';
					classSelect.disabled=true;
				}
			}

		}
	</script>
</head>

<body>
	<select name="" id="grade">
		<option value="">请选择</option>
	</select>
	<select name="" id="class" disabled>		
	</select>
</body>
</html>